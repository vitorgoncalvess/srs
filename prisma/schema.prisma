generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["views", "relationJoins"]
}

datasource db {
  provider = "sqlserver"
  url      = env("DATABASE_URL")
}

model Animal {
  id_animal    Int            @id @default(autoincrement())
  species      String
  habitat      String
  identifier   String
  AnimalSensor AnimalSensor[]
}

model Sensor {
  id_sensor    Int            @id @default(autoincrement())
  name         String
  type         String
  description  String
  AnimalSensor AnimalSensor[]
  DataSensor   DataSensor[]
}

model DataSensor {
  id_data    Int    @id @default(autoincrement())
  valor      String
  created_at String
  sensor     Sensor @relation(fields: [fk_sensor], references: [id_sensor])
  fk_sensor  Int
}

model AnimalSensor {
  animal    Animal  @relation(fields: [fk_animal], references: [id_animal])
  fk_animal Int
  sensor    Sensor  @relation(fields: [fk_sensor], references: [id_sensor])
  fk_sensor Int
  min       Decimal
  max       Decimal
  offset    Decimal

  @@id([fk_animal, fk_sensor])
}
